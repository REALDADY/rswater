<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Iron Man AR - Mobile Ready</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <video id="videoElement" autoplay playsinline></video>
    <canvas id="arCanvas"></canvas>
    <div id="webglContainer"></div>

    <div id="uiOverlay">
        <!-- Top HUD -->
        <div class="hud-panel top-panel">
            <div class="hud-text">âš¡ AR SYSTEM âš¡</div>
            <div class="hud-status">
                <span id="gestureStatus">Starting...</span>
                <span class="separator">|</span>
                <span id="fpsCounter">FPS: 0</span>
            </div>
        </div>

        <!-- Toggle Buttons -->
        <button class="toggle-btn left-toggle" id="toggleLeft">â˜°</button>
        <button class="toggle-btn right-toggle" id="toggleRight">â„¹ï¸</button>

        <!-- Left Menu Panel -->
        <div class="hud-panel left-panel hidden" id="leftPanel">
            <div class="panel-header">ğŸ¯ SHAPES [1-4]</div>
            <div class="menu-item active" data-action="select-cube">
                <span class="icon">ğŸ”²</span>
                <span>Cube</span>
            </div>
            <div class="menu-item" data-action="select-sphere">
                <span class="icon">ğŸ”µ</span>
                <span>Sphere</span>
            </div>
            <div class="menu-item" data-action="select-pyramid">
                <span class="icon">ğŸ”º</span>
                <span>Pyramid</span>
            </div>
            <div class="menu-item" data-action="select-torus">
                <span class="icon">â­•</span>
                <span>Torus</span>
            </div>

            <div class="panel-header">âš™ï¸ CONTROLS</div>
            <div class="menu-item" data-action="clear">
                <span class="icon">ğŸ–Œï¸</span>
                <span>Clear Draw</span>
            </div>
            <div class="menu-item" data-action="toggle-camera">
                <span class="icon">ğŸ“·</span>
                <span>Toggle Camera</span>
            </div>
            <div class="menu-item" data-action="toggle-landmarks">
                <span class="icon">âœ‹</span>
                <span>Toggle Hands</span>
            </div>

            <div class="panel-header">ğŸ¨ COLOR</div>
            <div class="menu-item" data-action="change-color">
                <span class="icon">ğŸ¨</span>
                <span>Change Color</span>
            </div>

            <div class="panel-header">ğŸ—‘ï¸ DELETE</div>
            <div class="menu-item" data-action="delete-mode">
                <span class="icon">âŒ</span>
                <span>Delete Mode</span>
            </div>
            <div class="menu-item" data-action="clear-all">
                <span class="icon">ğŸ’£</span>
                <span>Clear All</span>
            </div>
        </div>

        <!-- Right Info Panel -->
        <div class="hud-panel right-panel hidden" id="rightPanel">
            <div class="panel-header">ğŸ“Š STATUS</div>
            <div class="info-item">
                <span class="label">Gesture:</span>
                <span id="currentGesture">None</span>
            </div>
            <div class="info-item">
                <span class="label">Hands:</span>
                <span id="handDetected">-</span>
            </div>
            <div class="info-item">
                <span class="label">Objects:</span>
                <span id="objectCount">0</span>
            </div>
            <div class="info-item">
                <span class="label">Mode:</span>
                <span id="currentMode">Ready</span>
            </div>
            <div class="info-item">
                <span class="label">Shape:</span>
                <span id="selectedShape">Cube</span>
            </div>

            <div class="panel-header">ğŸ® GESTURES</div>
            <div class="gesture-guide">
                <div class="gesture-item">ğŸ‘‹ + ğŸ¤ = Spawn & Resize</div>
                <div class="gesture-item">ğŸ¤ + ğŸ¤ = 3D Rotate</div>
                <div class="gesture-item">âœŠ + âœŠ = Freeze All</div>
                <div class="gesture-item">âœŒï¸ + âœŒï¸ = Rainbow</div>
                <div class="gesture-item">ğŸ‘ + ğŸ‘ = Duplicate</div>
                <div class="gesture-item">Hold ğŸ¤ = Clone</div>
                <div class="gesture-item">ğŸ‘ = Quick Spawn</div>
                <div class="gesture-item">â˜ï¸ = Draw/Delete</div>
            </div>
        </div>
    </div>

    <!-- Loading Screen -->
    <div id="loadingScreen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">âš¡ Initializing AR âš¡</div>
            <div class="loading-subtext">Loading hand tracking...</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.159.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>

    <script src="app.js"></script>
</body>
</html>